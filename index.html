<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#667eea">
    <meta name="description" content="Aprenda inglÃªs com flashcards diÃ¡rios. 365 dias para fluÃªncia total.">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Inter:wght@400;600;700&family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Ãcones PWA -->
    <link rel="icon" type="image/png" sizes="192x192" href="icons/icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icons/icon-512.png">
    <link rel="apple-touch-icon" href="icons/icon-192.png">
    
    <link rel="stylesheet" href="css/app.css" id="mainStylesheet">
    <link rel="stylesheet" href="css/themes/mario-sunshine.css" id="themeStylesheet">
    <title>English365 - FluÃªncia em InglÃªs</title>
</head>
<body>
    <header>
        <div class="header-top">
            <h1>ğŸ¯ FluÃªncia em InglÃªs</h1>
            <button class="menu-btn" onclick="toggleMenu()">â˜°</button>
                </div>
        <div class="stats-mini">
            <div class="stat-mini">
                ğŸ”¥ <span id="streakMini">0</span>d
                </div>
            <div class="stat-mini">
                âœ… <span id="todayMini">0</span>/<span id="goalMini">10</span>
                </div>
            <div class="stat-mini">
                ğŸ“ <span id="totalMini">0</span>
            </div>
        </div>
    </header>

    <main>
        <div class="card-wrapper">
            <div class="card" id="cardContainer">
                <div class="card-header">
                    <div class="card-level" id="cardLevel">Iniciante</div>
                    <div class="card-count" id="cardCount">1/10</div>
                </div>
                <div class="card-content" id="cardContent">
                    I am learning English every day.
                </div>
                <div class="card-actions" id="buttons">
                    <button class="btn btn-show" onclick="flipCard()">Mostrar Resposta</button>
                </div>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                </div>
                <div class="progress-text" id="progressText">0 de 10 cards hoje</div>
            </div>
        </div>
    </main>

    <!-- Menu Lateral -->
    <div class="menu-overlay" id="menuOverlay"></div>
    <div class="side-menu" id="sideMenu">
        <div class="menu-header">
            <h2>EstatÃ­sticas</h2>
            <div class="menu-stats">
                <div class="menu-stat">
                    <span class="menu-stat-value" id="menuStreak">0</span>
                    <span class="menu-stat-label">ğŸ”¥ SequÃªncia</span>
                </div>
                <div class="menu-stat">
                    <span class="menu-stat-value" id="menuToday">0</span>
                    <span class="menu-stat-label">âœ… Hoje</span>
                </div>
                <div class="menu-stat">
                    <span class="menu-stat-value" id="menuRemaining">0</span>
                    <span class="menu-stat-label">ğŸ“š Restantes</span>
                </div>
                <div class="menu-stat">
                    <span class="menu-stat-value" id="menuTotal">0</span>
                    <span class="menu-stat-label">ğŸ“ Total</span>
                </div>
            </div>
        </div>
        <div class="menu-content">
            <button class="menu-item" onclick="openAddModal()">
                <span class="menu-item-icon">â•</span>
                <span class="menu-item-text">Adicionar Card</span>
            </button>
            <button class="menu-item" onclick="openSettingsModal()">
                <span class="menu-item-icon">âš™ï¸</span>
                <span class="menu-item-text">ConfiguraÃ§Ãµes</span>
            </button>
            <button class="menu-item" onclick="exportData()">
                <span class="menu-item-icon">ğŸ’¾</span>
                <span class="menu-item-text">Exportar Dados</span>
            </button>
            <button class="menu-item" onclick="document.getElementById('importFile').click()">
                <span class="menu-item-icon">ğŸ“¥</span>
                <span class="menu-item-text">Importar Dados</span>
            </button>
            <button class="menu-item" onclick="openResetModal()">
                <span class="menu-item-icon">ğŸ”</span>
                <span class="menu-item-text">Resetar Progresso</span>
            </button>
            <input type="file" id="importFile" accept=".json" style="display:none" onchange="importData(event)">
        </div>
    </div>

    <!-- Modal Adicionar -->
    <div class="modal" id="addModal">
        <div class="modal-content">
            <h2>â• Novo Card</h2>
            <div class="form-group">
                <label>NÃ­vel</label>
                <select id="levelInput">
                    <option value="Iniciante">Iniciante</option>
                    <option value="BÃ¡sico">BÃ¡sico</option>
                    <option value="IntermediÃ¡rio">IntermediÃ¡rio</option>
                    <option value="AvanÃ§ado">AvanÃ§ado</option>
                </select>
            </div>
            <div class="form-group">
                <label>InglÃªs (Frente)</label>
                <textarea id="frontInput" placeholder="I am learning English"></textarea>
            </div>
            <div class="form-group">
                <label>PortuguÃªs (Verso)</label>
                <textarea id="backInput" placeholder="Eu estou aprendendo inglÃªs"></textarea>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-cancel" onclick="closeAddModal()">Cancelar</button>
                <button class="btn btn-confirm" onclick="addCard()">Adicionar</button>
            </div>
        </div>
    </div>

    <!-- Modal ConfiguraÃ§Ãµes -->
    <div class="modal" id="settingsModal">
        <div class="modal-content">
            <h2>âš™ï¸ ConfiguraÃ§Ãµes</h2>
            <div class="form-group">
                <label>Cards por dia</label>
                <input type="number" id="cardsPerDayInput" min="1" max="100" value="10">
            </div>
            <div class="form-group">
                <label>Tema/Layout</label>
                <select id="themeSelect">
                    <option value="mario-sunshine">Mario Sunshine (Atual)</option>
                    <option value="minimalista">Minimalista</option>
                    <option value="moderno">Moderno</option>
                    <option value="escuro">Escuro</option>
                    <option value="colorido">Colorido</option>
                    <option value="classico">ClÃ¡ssico</option>
                </select>
            </div>
            <div class="modal-buttons">
                <button class="btn btn-cancel" onclick="closeSettingsModal()">Cancelar</button>
                <button class="btn btn-confirm" onclick="saveSettings()">Salvar</button>
            </div>
        </div>
    </div>

    <!-- Modal Reset -->
    <div class="modal" id="resetModal">
        <div class="modal-content">
            <h2>âš ï¸ Resetar Tudo?</h2>
            <p style="margin-bottom: 1rem; color: #666;">Tem certeza? Todo o progresso serÃ¡ perdido permanentemente.</p>
            <div class="modal-buttons">
                <button class="btn btn-cancel" onclick="closeResetModal()">Cancelar</button>
                <button class="btn btn-danger" onclick="resetProgress()">Confirmar</button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    
    <!-- Registrar Service Worker para PWA -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./sw/service-worker.js')
                    .then((registration) => {
                        console.log('Service Worker registrado com sucesso:', registration.scope);
                    })
                    .catch((error) => {
                        console.log('Falha ao registrar Service Worker:', error);
                    });
            });
        }
    </script>
</body>
</html>